2018.12.07 02:14 雨

## 🍔 对象须知

我们都知道，对象一般是类的实例，如 Java，Python 等这类面向对象语言，而 JavaScript 中没有类，因此 JavaScript 中的对象不是类的实例，而是基于原型的对象。
JavaScript 中的对象是由 key 和 value 组成，value 可以是任意数据类型。

### 🔨 创建

JavaScript 可以用 `声明形式` 和 `构造形式` 的方式创建对象

**声明形式**

```JavaScript
let obj = {
  name: 'Jon',
  age: 18,
  say: () => {
    console.log('hello')
  }
}
```

这种方式创建的对象需要注意点是，按照命名规则命名的 key 加不加引号都可以，不符合命名规范的 key 要加引号，如：

```JavaScript
let obj = {
  'first_name': 'Jon',
}
```

**构造形式**

```JavaScript
let obj = new Object()
obj.name = 'Jon'
obj.age = 18
obj.say = () => {
  console.log('hello')
}
```

给构造器生成的对象添加属性需要一个一个添加

### 🔦 访问

访问一个对象的属性值可以通过 `. 运算符` 和 `关联数组引用` 进行访问，举个粟子：

```JavaScript
let obj = {
  'first_name': 'Jon',
  age: 18,
  say: () => {
    console.log('hello')
  }
}

obj.age // 通过 . 运算符 访问，18
obj['age'] // 通过 关联数组引用 18
obj['first_name'] // 通过 关联数组引用 访问，Jon
```

### 📦 ES6 对象的扩展

**属性简写**

```JavaScript
let name = 'Jon'
let persion = {name}
// 等同于
let persion = {name: name}
```

**对象函数简写**

```JavaScript
let persion = {
  say () {
    console.log('hello')
  }
}
// 等同于
let persion = {
  say: function () {
    console.log('hello')
  }
}
```

**属性表达式**

```JavaScript
let firstname = 'first name'
let persion = {
  [firstname] : 'Jon'
}
person['first name'] // 'Jon'
```

注意：属性表达式和简写不能同时使用

**属性的遍历**

ES6 一共有 5 种方法可以遍历对象的属性。

1. for...in 循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。

2. Object.keys(obj) 返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。

3. Object.getOwnPropertyNames(obj) 返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。

4. Object.getOwnPropertySymbols(obj) 返回一个数组，包含对象自身的所有 Symbol 属性的键名。

5. Reflect.ownKeys(obj) 返回一个数组，包含对象自身的所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。

以上的 5 种方法遍历对象的键名，都遵守同样的属性遍历的次序规则。

首先遍历所有数值键，按照数值升序排列。
其次遍历所有字符串键，按照加入时间升序排列。
最后遍历所有 Symbol 键，按照加入时间升序排列。

**对象解构**

```JavaScript
let person = {
  name: 'Jon',
  age: 18,
  say () {
    console.log('hello')
  }
}

let {name, age, say} = person
```

**扩展运算符（...）**

扩展运算符分为 剩余 和 展开 两种用法

- 展开

```JavaScript
let obj = {
  name: 'Jon',
  age: 18
}

let person = {...obj}
person // { name: 'Jon', age: 18 }
```

- 剩余

```JavaScript
let person = {
  name: 'Jon',
  age: 18,
  say () {
    console.log('hello')
  }
}

let {say, ...rest} = person
rest // { name: 'Jon', age: 18 }

```

**总结自：**

- 《ECMAScript 6 入门》对象扩展一章
- 《Node.js 开发指南》附录A
