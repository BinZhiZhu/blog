# 整理

作用域共有两种主要的工作模型：`词法作用域` 和 `动态作用域`

词法作用域是由你在写代码时将变量和块作用域写在哪里来决定的，因此当词法分析器处理代码时会保持作用域不变（大部分情况下是这样的）

没有任何函数可以部分地同时出现在两个父级函数中

作用域查找会在找到第一个匹配的标识符时停止，在多层的嵌套作用域中可以定义同名的标识符，这叫作`遮蔽效应`（内部的标识符遮蔽了外面的标识符）

window.a 可以访问那些被同名变量所遮蔽的全局变量，但非全局的变量如果被遮蔽了，无论如何都无法被访问到

无论函数在哪里被调用，也无论它如何被调用，它的词法作用域都只是由函数被声明时所处的位置决定

词法作用域只会查找一级标识符，如a、b、c，如果代码中引用了 foo.bar.baz，词法作用域查找只会试图查找 foo 标识符，然后`对象属性访问规则`会对 bar、baz 的访问

# 归纳

1. 作用域分词法作用域和动态作用域
2. 变量和块作用域的`书写位置`决定了词法作用域的形成并且保持不变（大部分情况下）
3. 函数只能出现在一个父级作用域中
4. 不同作用域中可以相互嵌套并存在同名的标识符
5. 查找标识符，作用域在匹配到了第一个后会停止查找，如果外层作用域也有同名的标识符是不会被匹配到的，看起来就像内层的`屏蔽`外层的
6. 如果发生`屏蔽`，可以使用 window 访问全局变量，而非全局变量则不行，因为被屏蔽了
7. 像 foo、bar、baz 这些会触发 `作用域查找`，像 foo.bar.baz 这些会触发 `对象属性访问规则`
